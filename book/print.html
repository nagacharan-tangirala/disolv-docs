<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Disolv Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="installation/installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="basics/basics.html"><strong aria-hidden="true">2.</strong> Basics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="basics/simulations.html"><strong aria-hidden="true">2.1.</strong> Simulation</a></li><li class="chapter-item expanded "><a href="basics/vanet.html"><strong aria-hidden="true">2.2.</strong> VANET</a></li></ol></li><li class="chapter-item expanded "><a href="design/design.html"><strong aria-hidden="true">3.</strong> Why Disolv?</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="design/mobility.html"><strong aria-hidden="true">3.1.</strong> Mobility</a></li><li class="chapter-item expanded "><a href="design/links.html"><strong aria-hidden="true">3.2.</strong> Links</a></li><li class="chapter-item expanded "><a href="design/streams.html"><strong aria-hidden="true">3.3.</strong> Streams</a></li><li class="chapter-item expanded "><a href="design/messages.html"><strong aria-hidden="true">3.4.</strong> Messages</a></li><li class="chapter-item expanded "><a href="design/discrete.html"><strong aria-hidden="true">3.5.</strong> Discrete-time</a></li></ol></li><li class="chapter-item expanded "><a href="decisions/decisions.html"><strong aria-hidden="true">4.</strong> Software decisions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="decisions/software.html"><strong aria-hidden="true">4.1.</strong> Software</a></li><li class="chapter-item expanded "><a href="decisions/architecture.html"><strong aria-hidden="true">4.2.</strong> Architecture</a></li></ol></li><li class="chapter-item expanded "><a href="crates/crates.html"><strong aria-hidden="true">5.</strong> Library Crates</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="crates/core/core.html"><strong aria-hidden="true">5.1.</strong> Core</a></li><li class="chapter-item expanded "><a href="crates/devices/devices.html"><strong aria-hidden="true">5.2.</strong> Devices</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="crates/devices/vehicles.html"><strong aria-hidden="true">5.2.1.</strong> Vehicles</a></li><li class="chapter-item expanded "><a href="crates/devices/rsu.html"><strong aria-hidden="true">5.2.2.</strong> RSU</a></li><li class="chapter-item expanded "><a href="crates/devices/controller.html"><strong aria-hidden="true">5.2.3.</strong> Controller</a></li></ol></li><li class="chapter-item expanded "><a href="crates/models/models.html"><strong aria-hidden="true">5.3.</strong> Models</a></li><li class="chapter-item expanded "><a href="crates/network/network.html"><strong aria-hidden="true">5.4.</strong> Network</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="crates/network/resources.html"><strong aria-hidden="true">5.4.1.</strong> Resources</a></li><li class="chapter-item expanded "><a href="crates/network/slice.html"><strong aria-hidden="true">5.4.2.</strong> Slice</a></li><li class="chapter-item expanded "><a href="crates/network/bs.html"><strong aria-hidden="true">5.4.3.</strong> Base Station</a></li></ol></li><li class="chapter-item expanded "><a href="crates/input/input.html"><strong aria-hidden="true">5.5.</strong> Input</a></li><li class="chapter-item expanded "><a href="crates/output/output.html"><strong aria-hidden="true">5.6.</strong> Output</a></li></ol></li><li class="chapter-item expanded "><a href="execs/execs.html"><strong aria-hidden="true">6.</strong> Executables</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="execs/v2x.html"><strong aria-hidden="true">6.1.</strong> V2X</a></li><li class="chapter-item expanded "><a href="execs/links.html"><strong aria-hidden="true">6.2.</strong> Links</a></li></ol></li><li class="chapter-item expanded "><a href="workflow/workflow.html"><strong aria-hidden="true">7.</strong> Workflow</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Disolv Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p align="center">
    <img style="max-width: 65%; max-height: 40%;" src="./resources/images/intro/disolv_logo.svg"
</p>
<p>Disolv stands for Dataflow-centric Integrated Simulator Of Large-scale VANETs.
Disolv is implemented in Rust to enable large scale simulation studies of connected traffic applications.
This documentation contains the description and the design of the simulator.</p>
<p>The code for the simulator is <a href="https://github.com/nagacharan-tangirala/disolv">available.</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<p>If you are on a new installation of Ubuntu, install the necessary build tools using the command:</p>
<pre><code>sudo apt-get install build-essential
</code></pre>
<p>For Macbook, you need homebrew and Xcode. Get the XCode from the App store. Install Homebrew with the command:</p>
<pre><code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
</code></pre>
<p>Check the latest command from the <a href="https://brew.sh/">official Homebrew site</a> if the above command fails.</p>
<h2 id="rust-toolchain"><a class="header" href="#rust-toolchain">Rust toolchain</a></h2>
<p>Rust toolchain is essential for the simulator to work. At the time of writing this, you can use the following command to install the necessary toolchain:</p>
<pre><code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
<p>Check the <a href="https://www.rust-lang.org/tools/install">official link</a> if the above command fails.</p>
<h2 id="disolv"><a class="header" href="#disolv">Disolv</a></h2>
<ol>
<li>Download the latest <strong>main</strong> branch using the command:</li>
</ol>
<pre><code>git clone https://github.com/nagacharan-tangirala/disolv.git
</code></pre>
<ol start="2">
<li>Navigate to the folder and build all possible executables of the simulator using the command:</li>
</ol>
<pre><code>cargo build --release
</code></pre>
<ol start="3">
<li>To build a specific package/executable, use the command:</li>
</ol>
<pre><code>cargo build --package &lt;package_name&gt; --release
</code></pre>
<h2 id="executables"><a class="header" href="#executables">Executables</a></h2>
<p>Disolv is a single repo with multiple executables. Depending on the application, you can select the packages for compilation. More about the executables is described in the <a href="installation/../execs/execs.html">Executables section</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basics"><a class="header" href="#basics">Basics</a></h1>
<p>In this section, some preliminary basic ideas are discussed -</p>
<ul>
<li><a href="basics/./simulations.html">Simulation</a></li>
<li><a href="basics/./vanet.html">VANET</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="simulation"><a class="header" href="#simulation">Simulation</a></h1>
<p>In general terms, simulation is a representation of a real-world phenomenon.
Any process that is observed in the world can be represented in a simulation provided its behavior can be captured in the form of a mathematical model.
The evolution of the model over time is observed using simulations.</p>
<h2 id="time"><a class="header" href="#time">Time</a></h2>
<p>Models that are defined with changes occuring in continuous time are simulated in the continuous time paradigm.
Typically, the models are represented using differential equations.
Inherently, the simulation of continuous time models can be expensive in terms of computational cost.
While time can be theoretically defined as a continuous quantity, the empirical measurements are often measured at a specific time instants.
Based on this idea, time can be modeled as a discrete quantity in the simulations.
An added benefit is that the simulations are better in terms of scalability.</p>
<p>Two paradigms are possible with discrete time representation -</p>
<h4 id="discrete-time-simulation-dts"><a class="header" href="#discrete-time-simulation-dts">Discrete-Time Simulation (DTS)</a></h4>
<p>The models that undergo changes at discrete time instants are called discrete-time simulation models.
After every pre-defined time interval, the behavior of the models are updated.</p>
<h4 id="discrete-events-simulation-des"><a class="header" href="#discrete-events-simulation-des">Discrete Events Simulation (DES)</a></h4>
<p>The models are updated whenever a certain <em>event</em> happens at any discrete-time instant.
While this is similar to discrete-time simulation, <em>event</em> oriented models can be used to represent inter-dependent behavior of multiple models.
An added benefit is that the simulation can skip model updates of time instants with no events.</p>
<h2 id="agent-based-model-abm-simulation"><a class="header" href="#agent-based-model-abm-simulation">Agent-based Model (ABM) Simulation</a></h2>
<p>Real-world systems are often a combination of several individual components with their own properties.
In ABM simulation, each component and its behavior is modeled as an individual component.
Each agent is allowed to behave based on its parameters and can optionally interact with other agents.
Although the interaction is optional, typically ABM representation is incorporated where agent interactions are essential modeling requirements.
In simple scenarios, the interactions between various components can be easily determined and represented with simple simulation models.
However, in most of the real-world processes, the interplay between the components are extremely complex and are hard to determine with simple mathematical equations.
In such cases, ABM can be a powerful tool that allows the observation of emergence of the behavior over a period.
Time can be represented in either continuous or discrete fashion, although, discrete time is commonly selected for its performance benefits.</p>
<p>Several general purpose ABM simulators exist -</p>
<ul>
<li><a href="https://mesa.readthedocs.io/en/stable/">mesa</a></li>
<li><a href="https://krabmaga.github.io/">krABMaga</a></li>
<li><a href="https://cs.gmu.edu/~eclab/projects/mason/">MASON</a></li>
<li><a href="https://juliadynamics.github.io/Agents.jl/stable/">Agents.jl</a></li>
</ul>
<p>Custom behavior models can be implemented using the frameworks.
Some of the processes that can be candidates for simulation are vehicular traffic, mobile network communications, crowd movement simulations, infection propagation simulation etc.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vanet"><a class="header" href="#vanet">VANET</a></h1>
<h3 id="vanet-1"><a class="header" href="#vanet-1">VANET</a></h3>
<p>VANET stands for Vehicular Ad-hoc Network.
In simple words, VANET is a wireless network formed by <em>installing</em> a wireless radio to vehicles.
Further, the traffic infrastructure can also be <em>installed</em> with a wireless radio.
The interactions between the vehicles and the infrastructure happens through VANET.
A wide range of applications are enabled by connecting the vehicles to various components of the infrastructure.
Collectively, these applications are called Intelligent Transportation System (ITS) applications.
VANET opens up endless possibilities of ITS applications.
The introduction of new communication protocols (5G and beyond), vehicles (Autonomous vehicles), and infrastructure (drones) contribute towards explosive growth of possible ITS applications.
This necessitates a thorough evaluation of ITS applications.
Hence, study of the ITS applications is one of the popular research topics.</p>
<h3 id="vanet-simulations"><a class="header" href="#vanet-simulations">VANET Simulations</a></h3>
<p>Due to the futuristic nature of the applications, field trials can be expensive if all possible what-if scenarios must be covered.
Simulations are an inexpensive and time-saving approach to perform initial evaluations for ITS applications.
Hence, VANET studies are carried out using simulations.
The general-purpose simulators are not used because of the sheer complexity involved in the modeling of network and mobility models.
For example, in network simulations, the order of agent communication events plays a crucial role in accurately replicating the real-world behavior.
Hence, network simulators such as <strong>ns-3</strong> employ a combination of ABM with DES, where each entity is represented as an agent and the behavior is triggered at specific time instants through events.</p>
<p>Several open-source simulators are available for VANET studies.
Depending on the application, a simple mobility simulator with custom extensions can also be used for VANET studies.
Similarly, a network simulator with a simple mobility representation can also be used.
Some examples are -</p>
<ul>
<li><a href="https://veins.car2x.org/">VEINS</a></li>
<li><a href="https://eclipse.dev/mosaic/">Eclipse MOSAIC</a></li>
<li><a href="https://www.nsnam.org/">ns-3</a></li>
<li><a href="https://www.nsnam.org/">SUMO</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conceptual-decisions"><a class="header" href="#conceptual-decisions">Conceptual Decisions</a></h1>
<p>Disolv is an agent-based model with Discrete-time based progression.
A typical VANET simulator can be imagined to be a combination of high-fidelity mobility and network simulators.
The problem under study constitutes the application.
Together, the architecture looks as shown below:</p>
<p align="center">
  <img style="max-width: 45%; height: auto;" src="design/../resources/images/design/vanet_sim.png">
</p>
<p>This is how any VANET simulator such as Veins is modeled.</p>
<p>The primary goal of Disolv is to support large-scale evaluation of VANET studies.
As a result, all the design decisions of Disolv are oriented towards performance improvements when compared to state-of-the-art VANET simulators.
We morph the above simulator idea into an ITS simulator with applications taking the centre stage.
There will be mobility and network components, but they are not the main focus of the modeling.
Hence, Disolv conceptually looks as shown below:</p>
<p align="center">
  <img style="max-width: 45%; height: auto;" src="design/../resources/images/design/sim_concept.png">
</p>
<p>How we reach from the VANET simulator to ITS simulator is the main focus of this section.
Several design aspects are incorporated to achieve this and we will look at them in detail.</p>
<ul>
<li><a href="design/./mobility.html">Mobility</a></li>
<li><a href="design/./links.html">Links</a></li>
<li><a href="design/./streams.html">Streams</a></li>
<li><a href="design/./messages.html">Messages</a></li>
<li><a href="design/./discrete.html">Discrete-time</a></li>
</ul>
<blockquote>
<p><em>The details about the choices and their impact on the simulation is compared in the <a href="https://doi.org/10.1145/3615979.3656062">Disolv introductory article</a> published at PADS Conference, 2024.</em></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mobility"><a class="header" href="#mobility">Mobility</a></h1>
<p>One of the components of a VANET simulator is the mobility component.
Mobility modeling is a complex task in itself and has a dedicated community behind it.
Some of the mobility simulators are <a href="https://citymos.net/">CityMoS</a>, <a href="https://www.ptvgroup.com/en/products/ptv-vissim">PTV VISSIM</a>,
<a href="https://sumo.dlr.de/docs/index.html">SUMO</a>, <a href="https://www.matsim.org/">MATSim</a> etc.
This is unlike the wireless mobile network simulations, where the node mobility can be easily modeled with a random mobility model.
Hence, the modeling complexity is high and comes with a performance cost.</p>
<p>On a broad level, ITS applications can be classified into two types.
The first type is where explicit control of the vehicles is essential.
An example would be <a href="https://ieeexplore.ieee.org/abstract/document/8280871">truck platooning</a> studies.
The second type is where no control of the vehicles is required in the study.
For example, network planning studies about the infrastructure placement.
Disolv is designed to cater to the applications where explicit control of the vehicles is NOT essential.
Hence, the mobility modeling is greatly simplified.
Only vehicular traces are sufficient to represent the vehicular mobility.
This removes a significant performance overhead from the simulations, thereby allowing the user to spend the computing on their application.
If the application is simple enough, then it allows room for extensive scalability.</p>
<p>The approach restricts the usability of Disolv for the applications that control the vehicles.
Fortunately, we cover planning studies category which is one of the majorly studied categories by the community.
The introduction of 5G and 6G will further explode the possible studies under the category.
AI is expected to be a major player in both network management as well as on the application side.
The introduction of smart city paradigm and the continued embracing of its ideas put more onus on mobility to interact with other smart city systems.
This increases the possibilities even more and leads to several new auxiliary use cases that do not require vehicular control.
Based on this intuition, we imagine Disolv to remain usable for plenty of use cases.</p>
<p>The process of converting a mobility trace to Disolv-readable format is supported by our pre-processing pipeline.
Any mobility simulator output can be converted to Disolv-readable format.
As of now, SUMO is supported.
This has an advantage of feeding a real-world mobility data as an input to the simulator.</p>
<p align="center">
  <img style="max-width: 45%; height: auto;" src="design/../resources/images/design/mobility-pre.png">
</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="links"><a class="header" href="#links">Links</a></h1>
<p>The next important component after Mobility is the connectivity.
To simulate the communication between agents, each agent must know who is in their vicinity.
This is an <strong>O(N<sup>2</sup>)</strong> operation because every agent should know about every other agent's position and determine if it is in the vicinity.
Because of the motion of the agents, this calculation is essential at each time step.
A significant time of the simulation is spent in this operation when the scale of the simulation is extremely large.</p>
<p>Disolv addresses the issue by allowing an input of neighbour information.
Similar to vehicular positions, the data for each agent and its neighbours can be fed as an input to the simulation.
For the convenience of the users, Disolv comes with an <a href="design/../execs/links.html">executable</a> that enables preparation of this file.
This is a one-time step performed for each simulation and is required whenever there is a change in the positions file.</p>
<p>Links are calculated between two classes of agents.
The first class of the agent is the source with respect to which the second class agents are assigned as neighbours.
There are several types of links that can be calculated:</p>
<h3 id="static"><a class="header" href="#static">Static</a></h3>
<p>If the source and target agent classes are static (RSUs, Edge Servers), then the links need not be calculated for every time step.
In such cases, only the links at time step 0 are calculated.</p>
<h3 id="dynamic"><a class="header" href="#dynamic">Dynamic</a></h3>
<p>This will calculate links between source and target for all the time step.
This is required when one of the agent classes are moving (vehicles, drones).</p>
<h3 id="unicast"><a class="header" href="#unicast">Unicast</a></h3>
<p>If a source agent can talk to only one agent of the target class at each time step, then such links must be calculated using Unicast method.
Depending on the choice, user can assign the nearest target agent.</p>
<h3 id="circular"><a class="header" href="#circular">Circular</a></h3>
<p>This gives all the target agents around a given source agent at each time step.
This is similar to a broadcast.</p>
<h3 id="extensions"><a class="header" href="#extensions">Extensions</a></h3>
<p>Further models can also be easily added for calculating the links.</p>
<h2 id="real-world-traces"><a class="header" href="#real-world-traces">Real-world Traces</a></h2>
<p>Any real-world traces can also be provided.
For instance, an ns-3 scenario can be used to generate the links data.
Whenever, there was a packet failure, we can assign no link in this case.
What this enables is a realistic communication and vehicular scenario, on top of which other planning applications can be evaluated.
In other words, disolv can be used a simulation replay tool.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="streaming"><a class="header" href="#streaming">Streaming</a></h1>
<p>As we saw in the <a href="design/./mobility.html">mobility</a> and <a href="design/./links.html">links</a> sections, disolv needs several input files for a simulation.
Because of the large-scale support goals, the size of the individual files can be significantly large.
Mobility trace files for a city like Cologne take 20GB.
If we add three to five different link files (vehicle-vehicle, vehicle-rsu, rsu-vehicle), then the input size is enormous.
On the output side, such large scenarios also generate significant data.
This can prove to be detrimental both for the performance as well as the memory.</p>
<p>Disolv is designed to overcome this issue through data streaming abilities.
Both the input and output files can be streamed at regular intervals of configurable time steps.
Input and output are handled in the form of chunks.
This solves the memory issues as the amount of data to be kept in the memory is only one chunk of the entire simulation duration.
This is similar to digital twins.</p>
<p>Parquet files are used for their robust and performant behavior.
Disolv can be extended to support any file format as requried by the user.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="messages"><a class="header" href="#messages">Messages</a></h1>
<p>Any realistic VANET simulator represents the interactions through packets.
This is required to also model the failures due to the network resource constraints.
Since we are only modeling interactions, packet-level modelling is not necessary.
Instead, we model the interactions using a compact structure called Message.</p>
<p>Message is built mainly with the metadata regarding the information that is transmitted.
It contains the statistic such as size, counts, type regarding the data.
Although this leads to unrealistic network, application studies that are not focussed on these aspects can reasonably benefit from this simplification.
Any forwarded data from the downstream is also aggregated and forwarded to the upstream.</p>
<p>For instance, consider the scenario where vehicles are uploading images to the RSU.
RSUs are all connected to a central entity that is responsible to collect the images from the vehicles.
Disolv can model this scenario.
Vehicles can upload their data to the nearest RSU as they travel along the network.
RSUs collect all the data that the vehicles uploaded into a single message and forward that to the controller.
If we modelled this in the form of packets, we need too many packet instances to represent the interaction.
Instead, we represent all of that with one single message.</p>
<h3 id="message-structure"><a class="header" href="#message-structure">Message structure</a></h3>
<p>One message is exchanged between a source and target agent.
It contains the following information:</p>
<pre><code>Message = {
    message_type: Enum,
    message_units: List,
    gathered_units: List,
    metadata: Struct,
    actions: List,
}
</code></pre>
<h4 id="message-type"><a class="header" href="#message-type">Message Type</a></h4>
<p>Indicates the message type that is being sent.</p>
<h4 id="message-units"><a class="header" href="#message-units">Message Units</a></h4>
<p>This is an individual unit of a message that needs to be transmitted.
Think of it as a unit of application data.
Hence, this is a list to support scenarios where multiple applications want to communicate (voice, data, video).</p>
<h4 id="gathered-units"><a class="header" href="#gathered-units">Gathered Units</a></h4>
<p>These are all the application data that were forwarded by the agents in the upstream/downstream.</p>
<h4 id="metadata"><a class="header" href="#metadata">Metadata</a></h4>
<p>This contains all the necessary statistics of the message, including size, counts, selected link etc.
The metadata is updated based on the message units that are supposted to be followed to the target.</p>
<h4 id="actions"><a class="header" href="#actions">Actions</a></h4>
<p>Actions are integral to the interactions between the agents.
Each agent can receive either one or more messages from other agents.
What to do with each individual message unit is indicated by the action.
For instance, we can ask an agent to consume all <strong>image</strong> type messages but forward all <strong>video</strong> message types.
This is entirely configurable by the user.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="discrete-time"><a class="header" href="#discrete-time">Discrete-time</a></h1>
<p>This follows naturally from all the other design choices we have made so far.
Since the interactions are simpler, we don't need discrete-event paradigm and its complexity despite its fidelity guarantees.
Agents can interact with each other following weakly-ordered priority scheme through discrete-time paradigm.
This essentially means that the agent interaction order can be controlled to only a certain extent.
We cannot control that vehicle ID A sends a message before vehicle ID B.</p>
<p>That does not mean that we have no control at all.
We can modify order at the agent class level.
For example, we can specify that vehicles send their messages first before RSUs do or vice versa for a downstream scenario.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="design-decisions"><a class="header" href="#design-decisions">Design decisions</a></h1>
<p>In addition to the conceptual decisions, some other design decisions are necessary to achieve the goals we set out for Disolv.
These are discussed in this section.</p>
<ul>
<li><a href="decisions/./software.html">Software</a></li>
<li><a href="decisions/./architecture.html">Architecture</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="software-decisions"><a class="header" href="#software-decisions">Software Decisions</a></h1>
<h3 id="rust"><a class="header" href="#rust">Rust</a></h3>
<p>The goal of scalability necessitates the selection of programming language capable of supporting high-performance application.
Naturally, the choices are C++ and Rust.
C++ is a tried and tested tool in the simulation development domain (SUMO and ns-3 are C++ based).
However, the memory management issues can hinder a new user from exploiting the full capabilites of the simulator.
The borrow-checker of Rust prevents many memory-safety issues that a user will inevitably commit in C++.
We implemented Disolv in Rust to enable contributions through extensions with minimal barriers.
An added benefit is that Rust inherently supports AI applications through an evolving ecosystem.
This facilitates high performance evaluations of AI oriented studies.
Further, support for interoperability with Python plugs any gaps in the AI ecosystem of Rust.</p>
<h3 id="links-1"><a class="header" href="#links-1">Links</a></h3>
<p>There is no detailed protocol stack implementation.
However, it is necessary for the agents to know their surrounding agents.
This operation can be expensive and does not scale well for city scale scenarios.
An agent is said to have a link with a neighbour if it can interact with the neighbour in that particular instant.
This does not concern with any <em>link</em> in the context of networking.
In other words, the link data is a mere information of neighbors available to each agent, not the channel characteristics.
Our initial implementation of the link calculation module was in Python.
Considering the enormous time consumed by this process, we ported the implementation to Rust, which resulted in substantial performance gains.
The table highlights the performance gains obtained by porting the link calculation module to Rust.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Nodes</th><th style="text-align: center">Simulation Duration</th><th style="text-align: center">Python</th><th style="text-align: right">Rust</th></tr></thead><tbody>
<tr><td style="text-align: left">2200</td><td style="text-align: center">3800s</td><td style="text-align: center">2400s</td><td style="text-align: right">120s</td></tr>
</tbody></table>
</div>
<h3 id="traces"><a class="header" href="#traces">Traces</a></h3>
<p>Vehicular traces can be obtained from any mobility simulator or real-world sources.
A pre-processing module is provided to convert the mobility traces to Disolv-readable format.
This can be extended to support a new trace source.
Since this is a one-time process, the implementation is carried out in Python.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="architecture"><a class="header" href="#architecture">Architecture</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="disolv-crates"><a class="header" href="#disolv-crates">Disolv Crates</a></h1>
<p>Simulator is divided into multiple crates to enable modular design.
An onion-like layered design is incorporated with crates arranged in an hierarchical manner.</p>
<!-- ![Onion Architecture for crates](../resources/images/crates/onion.png) -->
<p align="center">
  <img style="max-width: 45%; height: auto;" src="crates/../resources/images/crates/onion_v2.png">
</p>
<h3 id="core"><a class="header" href="#core">Core</a></h3>
<p><em>disolv-core</em> crate is the innermost layer of the simulator.
This is independent of all the other Disolv crates.
<em>disolv-core</em> contains the declarations and definitions that are used throughout the simulator.
<em>disolv-core</em> serves as a template on top of which multiple specific implementations can be carried out depending on the scenario.
The scheduler implementation and the agent triggering behavior are also implemented in this crate.</p>
<h3 id="models"><a class="header" href="#models">Models</a></h3>
<p><em>disolv-models</em> crate implements most of the primitive requirements imposed by the <strong>Core</strong>.
Some general behavior applicable to any VANET device is also implemented in this crate.
The goal is to provide a behavior as a reusable module that can be attached to multiple devices.
Additional device-specific configuration is allowed through parameterization.</p>
<h3 id="io"><a class="header" href="#io">I/O</a></h3>
<p><em>disolv-input</em> and <em>disolv-output</em> serve the purpose of reading the input and writing the output respectively.
It is sufficient to know the <strong>Core</strong> and the <strong>Model</strong> to handle input and output operations.
As a result, the implementations are accessible to all the custom implementations of the agents.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="core-1"><a class="header" href="#core-1">Core</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="devices"><a class="header" href="#devices">Devices</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h3 id="vehicles"><a class="header" href="#vehicles">Vehicles</a></h3>
<p>Vehicles are the primary <em>consumers</em> of a majority of ITS applications.
They can also act as providers of valuable input data for some of the traffic management applications.
They can communicate with neighbouring vehicles and the infrastructure within a certain range.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="road-side-units"><a class="header" href="#road-side-units">Road-side Units</a></h3>
<p>Road Side Unit (RSU) is an ITS infrastructure component installed at strategies locations.
From the perspective of VANET, a vehicle and RSU has similar radio capabilities but serve different purposes.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="controller"><a class="header" href="#controller">Controller</a></h3>
<p>This is a virtual component analogoous to the traffic management centre in the real world.
It is possible that a large city can have multiple hierarchies of control centres.
It serves the vehicles with their requests and takes decisions on traffic management based on the collected data.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="agent-models"><a class="header" href="#agent-models">Agent Models</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="network"><a class="header" href="#network">Network</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="resources"><a class="header" href="#resources">Resources</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice"><a class="header" href="#slice">Slice</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h3 id="base-stations"><a class="header" href="#base-stations">Base stations</a></h3>
<p>These are the enabling infrastructure for all the ITS components.
Sometimes, they can come with their own backlinks to the central server.
The location of the Base Station is important, in particular, for the newer protocols such as 5G.
The services offered to the devices in the vicinity depends on the Base Station.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="input"><a class="header" href="#input">Input</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="output"><a class="header" href="#output">Output</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="executables-1"><a class="header" href="#executables-1">Executables</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="v2x"><a class="header" href="#v2x">V2X</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="links-2"><a class="header" href="#links-2">Links</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="workflow"><a class="header" href="#workflow">Workflow</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
